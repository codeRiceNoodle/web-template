<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper  
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zy.wechat.dao.mapper.UserMapper">
	<!-- 新增记录 -->
	<insert id="insertUser" parameterType="UserEntity"
		useGeneratedKeys="true" keyProperty="id">
		insert into
		user_info(u_id,join_date) values(#{userId},#{timestamp})
	</insert>
	<!-- 查询单条记录 -->
	<select id="selectUser" parameterType="String" resultMap="userResultMap">
		select
		* from user_info where u_id = #{userId}
	</select>
	<!-- 修改记录 -->
	<!-- <update id="updateBlog" parameterType="Blog"> -->
	<!-- update t_blog set title = #{title},content = #{content},owner = #{owner} -->
	<!-- where id = #{id} -->
	<!-- </update> -->
	<!-- 查询所有记录 -->
	<select id="selectAll" resultMap="userResultMap">
		select u_id,join_date from user_info
	</select>
	<!-- 删除记录 -->
	<!-- <delete id="deleteBlog" parameterType="int"> -->
	<!-- delete from t_blog where id = #{id} -->
	<!-- </delete> -->
	<resultMap type="com.zy.wechat.dao.entity.UserEntity" id="userResultMap">
		<!-- 用id属性来映射主键字段 -->
		<result property="userId" column="u_id" />
		<!-- 用result属性来映射非主键字段 -->
		<result property="timestamp" column="join_date" />
	</resultMap>

</mapper>  